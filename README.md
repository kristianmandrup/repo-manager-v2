markoa-tester
=============

Getting started
---------------

```bash
git clone git@github.com:kristianmandrup/markoa-sample-app.git
cd markoa-sample-app
npm install
npm start
```

### Development

`gulp watch` to watch for changes and auto-compile `.jade` and `.styl` files.

Note: After updating a `layout.jade` file, run `gulp jade:marko` to ensure all marko files are compiled to use latest layouts (TODO: make part of `jade watch` task!).

### Run server

For now simply run:

`node test`

Which will run `mount-self.js` (which should work).

### Development mode

Install browser-refresh

`npm install -g browser-refresh`

Then launch application with browser-refresh

`browser-refresh test`

This will ensure that any change to a marko template will cause a browser refresh for instant feedback :)

### Using npm

Start app:

`npm start`

or until we get real tests written...

`npm test`

*should run tests instead :P*

### Semantic UI

Build semantic distribution files

`cd semantic && gulp build`

In `layout.jade`

```jade
link(rel="stylesheet" type="text/css" href="semantic.min.css")
script(src="semantic/dist/semantic.min.js")
```

Note:Ideally assets should be included via Lasso

### TODO

-	Add more debugging to Markoa
-	Allow significant `debug: true` flag on Markoa setup, or even different debug levels!!!
-	Make it much simpler to mount basic app, by using defaults for appContainer and koaServer if not defined!

### Mounting app on Markoa server

*Work in Progress (WIP)*

Needs to be made much simpler!

### App file structure

```sh
/apps
  /_global
    /components
    /state
      index.js
    /layouts
      _default_page.jade
  /index
    /components
      /project-feed
        template.marko
    /layouts
      _page.jade
    /state
      index.js
    /page
      index.jade
      index.marko
      index.browser.json
    marko-taglib.json
  /repositories
  /teams
  ...
  marko-taglib.json  
```

### Generating apps

Install slush generator

`npm install -g slush`

Install the slush `markoa` generator!

`npm install slush-markoa`

Generate an app

`slush markoa:app`

This generator will create an app under `apps/[app-name]` similar to the default`index` app generated by the default `markoa` generator. Tip: Use this generator each time you want to add an app!

```
/[app]
  /components
    /project-feed
      template.marko
  /layouts
    _page.jade
  /state
    index.js
  /page
    index.jade
    index.marko
    index.browser.json
  marko-taglib.json
```

### Generating tags

`slush markoa:tag`

This geneator will create an app under apps/[app-name] similar to the default `index` app generated by the default marko generator. Use this generator each time you want to add an app!

If no app name is given, the tag becomes global

```
/apps
  /_global
    /components
      /[tag]
        template.marko
```

If an app name is given, the tag is registered for that app

```
/apps
  /[app]
    /components
      /[tag]
        template.marko
```

#### Single tag example

-	What is the name of your tag or tags (, separated) ? `top-menu`
-	For which app (empty: global) ?

Creates the global tag `top-menu` under `apps/_global`

#### Multiple tags

-	What is the name of your tag or tags (, separated) ? `top-menu, side-bar, session-bar`
-	For which app (empty: global) ? `index`

Creates the tags: `top-menu`, `side-bar` and `session-bar` for the app `apps/index`

Contributing
------------

See the [CONTRIBUTING Guidelines](https://github.com/kristianmandrup/markoa-tester/blob/master/CONTRIBUTING.md)

Support
-------

If you have any problem or suggestion please open an issue [here](https://github.com/kristianmandrup/markoa-tester/issues).

License
-------

Copyright (c) 2015, Kristian Mandrup
